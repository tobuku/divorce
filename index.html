<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Elements Support Directory</title>
  <meta name="description" content="A directory of practical and emotional support services organized by Earth, Water, Air, and Fire."/>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div aria-hidden="true" class="kls-progress"></div>

  <svg class="noodles" aria-hidden="true" viewBox="0 0 1000 1000" preserveAspectRatio="none">
    <path id="noodlePath" d="M 80 120 C 260 160, 220 340, 420 360 C 620 380, 560 520, 740 560 C 880 590, 820 760, 920 820"
      fill="none" stroke="rgba(11,18,32,.25)" stroke-width="3" stroke-linecap="round"/>
    <circle id="noodleDot" r="7" fill="rgba(11,18,32,.35)"></circle>
  </svg>

  <header>
    <div class="wrap nav">
      <div class="brand">
        <div>
          Elements Support Directory
          <small>Earth, Water, Air, Fire</small>
        </div>
      </div>

      <nav>
        <a class="kls-magnet" href="index.html">Home</a>
        <a class="kls-magnet" href="earth.html">Earth</a>
        <a class="kls-magnet" href="water.html">Water</a>
        <a class="kls-magnet" href="air.html">Air</a>
        <a class="kls-magnet" href="fire.html">Fire</a>
        <a class="btn kls-magnet" href="contact.html">Get help</a>
      </nav>
    </div>
  </header>

  <main>
    <section>
      <div class="wrap hero">
        <div>
          <h1 class="h1 kls-heading">Support, organized by what you need today</h1>
          <p class="lead kls-reveal">
            This site groups practical and emotional support into four buckets. Each bucket maps to a mode of help.
            Stability, emotion, clarity, momentum.
          </p>

          <div class="grid-2">
            <div class="card kls-reveal">
              <div class="pill earth"><span class="dot"></span>Earth</div>
              <p>Home, money, logistics, routines. Reduce chaos and restore control.</p>
              <a class="btn btn-outline kls-magnet" href="earth.html" style="margin-top:1rem;">Explore Earth</a>
            </div>

            <div class="card kls-reveal">
              <div class="pill water"><span class="dot"></span>Water</div>
              <p>Grief, stress, trauma support. Emotional regulation and safe connection.</p>
              <a class="btn btn-outline kls-magnet" href="water.html" style="margin-top:1rem;">Explore Water</a>
            </div>

            <div class="card kls-reveal">
              <div class="pill air"><span class="dot"></span>Air</div>
              <p>Decisions, planning, communication. Clear next steps and better systems.</p>
              <a class="btn btn-outline kls-magnet" href="air.html" style="margin-top:1rem;">Explore Air</a>
            </div>

            <div class="card kls-reveal">
              <div class="pill fire"><span class="dot"></span>Fire</div>
              <p>Confidence, boundaries, rebuild. Action, strength, and forward motion.</p>
              <a class="btn btn-outline kls-magnet" href="fire.html" style="margin-top:1rem;">Explore Fire</a>
            </div>
          </div>

          <div style="margin-top:1.5rem;">
            <a class="btn kls-magnet" href="contact.html">Find support</a>
            <a class="btn btn-outline kls-magnet" href="about.html" style="margin-left:.75rem;">How to use this</a>
          </div>
        </div>

        <div class="card kls-reveal">
          <div class="kls-media">
            <img src="assets/images/hero-elements.jpg" alt="Calm workspace and notebook"/>
          </div>
          <div style="margin-top:.9rem;font-weight:750;color:var(--ink);opacity:.9;">
            Pick the bucket that matches your need. Start small. Keep moving.
          </div>
          <p class="lead" style="margin-top:.6rem;">
            This is a directory style framework. Add local providers, online options, and your own trusted resources.
          </p>
        </div>
      </div>
    </section>

    <section class="section-soft">
      <div class="wrap">
        <h2 class="section-title kls-heading">Start here</h2>
        <p class="lead kls-reveal">
          Use this checklist to choose a lane. Then pick one action.
        </p>

        <div class="grid-4">
          <div class="card kls-reveal">
            <div class="pill earth"><span class="dot"></span>Earth</div>
            <ul class="list">
              <li>Home reset</li>
              <li>Bill triage</li>
              <li>Meals and basics</li>
              <li>Childcare coverage</li>
            </ul>
          </div>

          <div class="card kls-reveal">
            <div class="pill water"><span class="dot"></span>Water</div>
            <ul class="list">
              <li>Support group</li>
              <li>Therapy options</li>
              <li>Nervous system care</li>
              <li>Crisis plan</li>
            </ul>
          </div>

          <div class="card kls-reveal">
            <div class="pill air"><span class="dot"></span>Air</div>
            <ul class="list">
              <li>Decision map</li>
              <li>Co parenting scripts</li>
              <li>Time management</li>
              <li>Admin support</li>
            </ul>
          </div>

          <div class="card kls-reveal">
            <div class="pill fire"><span class="dot"></span>Fire</div>
            <ul class="list">
              <li>Fitness and strength</li>
              <li>Boundaries</li>
              <li>New routines</li>
              <li>Community re entry</li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap footer-inner">
      <div>
        Â© <span id="year"></span> Elements Support Directory
        <div style="margin-top:.5rem;">A structured way to organize support resources.</div>
      </div>
      <div class="footer-links">
        <a class="kls-magnet" href="index.html">Home</a>
        <a class="kls-magnet" href="earth.html">Earth</a>
        <a class="kls-magnet" href="water.html">Water</a>
        <a class="kls-magnet" href="air.html">Air</a>
        <a class="kls-magnet" href="fire.html">Fire</a>
        <a class="kls-magnet" href="contact.html">Contact</a>
      </div>
    </div>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    (function () {
      const reduceMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (reduceMotion) return;

      if (!window.gsap || !window.ScrollTrigger) return;

      gsap.registerPlugin(ScrollTrigger);
      gsap.defaults({ ease: "power3.out", duration: 0.9 });

      const hoverOk = window.matchMedia && window.matchMedia("(hover: hover) and (pointer: fine)").matches;

      function splitLetters(el) {
        if (!el) return;
        if (el.dataset.splitDone === "1") return;

        const text = (el.textContent || "").trimEnd();
        el.textContent = "";

        const frag = document.createDocumentFragment();
        for (let i = 0; i < text.length; i++) {
          const ch = text[i];
          const span = document.createElement("span");
          span.className = "kls-char";
          span.textContent = ch === " " ? "\u00A0" : ch;
          frag.appendChild(span);
        }
        el.appendChild(frag);
        el.classList.add("kls-split");
        el.dataset.splitDone = "1";
      }

      function bounceHeading(el) {
        splitLetters(el);
        const chars = el.querySelectorAll(".kls-char");
        if (!chars.length) return;

        ScrollTrigger.create({
          trigger: el,
          start: "top 90%",
          onEnter: () => {
            gsap.fromTo(chars,
              { y: -90, opacity: 0, filter: "blur(10px)" },
              { y: 0, opacity: 1, filter: "blur(0px)", duration: 1.1, ease: "bounce.out", stagger: 0.02, overwrite: true }
            );
          },
          onEnterBack: () => {
            gsap.fromTo(chars,
              { y: -90, opacity: 0, filter: "blur(10px)" },
              { y: 0, opacity: 1, filter: "blur(0px)", duration: 1.1, ease: "bounce.out", stagger: 0.02, overwrite: true }
            );
          }
        });
      }

      document.querySelectorAll(".kls-heading").forEach(bounceHeading);

      gsap.utils.toArray(".kls-reveal").forEach((el) => {
        gsap.fromTo(
          el,
          { y: 18, opacity: 0, filter: "blur(10px)" },
          {
            y: 0,
            opacity: 1,
            filter: "blur(0px)",
            scrollTrigger: { trigger: el, start: "top 88%", toggleActions: "play none none reverse" }
          }
        );
      });

      const prog = document.querySelector(".kls-progress");
      if (prog) {
        gsap.to(prog, {
          scaleX: 1,
          ease: "none",
          scrollTrigger: { trigger: document.documentElement, start: "top top", end: "bottom bottom", scrub: 0.25 }
        });
      }

      const noodlePath = document.querySelector("#noodlePath");
      const noodleDot = document.querySelector("#noodleDot");
      if (noodlePath && noodleDot) {
        const length = noodlePath.getTotalLength();
        gsap.set(noodlePath, { strokeDasharray: length, strokeDashoffset: length * 0.2 });
        gsap.to(noodlePath, {
          strokeDashoffset: 0,
          ease: "none",
          scrollTrigger: { trigger: document.body, start: "top top", end: "bottom bottom", scrub: 0.6 }
        });

        gsap.to({}, {
          scrollTrigger: { trigger: document.body, start: "top top", end: "bottom bottom", scrub: 0.6 },
          onUpdate: (self) => {
            const p = length * self.progress;
            const pt = noodlePath.getPointAtLength(p);
            noodleDot.setAttribute("cx", pt.x);
            noodleDot.setAttribute("cy", pt.y);
          }
        });
      }

      function setPointerGlow(el, e) {
        const r = el.getBoundingClientRect();
        const x = ((e.clientX - r.left) / r.width) * 100;
        const y = ((e.clientY - r.top) / r.height) * 100;
        el.style.setProperty("--mx", x + "%");
        el.style.setProperty("--my", y + "%");
      }

      function initMagnet() {
        if (!hoverOk) return;
        const items = document.querySelectorAll(".kls-magnet, .btn");
        items.forEach((el) => {
          const strength = el.classList.contains("btn") ? 0.22 : 0.18;

          el.addEventListener("mousemove", (e) => {
            setPointerGlow(el, e);
            const r = el.getBoundingClientRect();
            const x = e.clientX - r.left - r.width / 2;
            const y = e.clientY - r.top - r.height / 2;
            gsap.to(el, { x: x * strength, y: y * strength, duration: 0.18, ease: "power2.out" });
          });

          el.addEventListener("mouseleave", () => {
            gsap.to(el, { x: 0, y: 0, duration: 0.55, ease: "elastic.out(1, 0.35)" });
          });
        });
      }

      initMagnet();
    })();
  </script>
</body>
</html>
