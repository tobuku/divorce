<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Elemental Support Directory</title>
  <meta name="description" content="A multi-layer support directory organized by Earth, Water, Air, and Fire." />

  <style>
    :root{
      --bg: #ffffff;
      --ink: #0b1220;
      --muted: #475569;
      --border: rgba(11, 18, 32, 0.12);
      --shadow: 0 14px 38px rgba(11, 18, 32, 0.08);

      --earth: #2f6b4f;
      --water: #1f6fb2;
      --air: #2a8a85;
      --fire: #c65a1e;

      --earth-soft: rgba(47, 107, 79, 0.10);
      --water-soft: rgba(31, 111, 178, 0.10);
      --air-soft: rgba(42, 138, 133, 0.10);
      --fire-soft: rgba(198, 90, 30, 0.10);

      --pill: rgba(11, 18, 32, 0.06);
      --radius: 18px;
      --max: 1120px;
    }

    *{ box-sizing:border-box; margin:0; padding:0; }
    body{
      font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.6;
      overflow-x: hidden;
    }

    a{ color: inherit; text-decoration: none; }
    .wrap{ max-width: var(--max); margin: 0 auto; padding: 0 1.25rem; }

    header{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(255,255,255,0.82);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }

    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 1rem;
      padding: 1rem 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: .75rem;
      font-weight: 800;
      letter-spacing: -0.02em;
      text-transform: uppercase;
      font-size: .85rem;
      white-space: nowrap;
    }

    .brand-badge{
      width: 28px;
      height: 28px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: linear-gradient(135deg, var(--earth-soft), var(--water-soft), var(--air-soft), var(--fire-soft));
      box-shadow: 0 10px 22px rgba(11,18,32,0.08);
    }

    nav{
      display:flex;
      align-items:center;
      gap: 1.25rem;
      flex-wrap: wrap;
    }

    nav a{
      position: relative;
      font-size: .95rem;
      color: var(--muted);
      display: inline-flex;
      align-items: center;
      padding: .25rem 0;
      transform: translate3d(0,0,0);
      will-change: transform;
    }

    nav a:hover{ color: var(--ink); }

    /* Gradient underline animation */
    nav a::after{
      content:"";
      position:absolute;
      left:0;
      right:0;
      bottom:-8px;
      height:2px;
      transform: scaleX(0);
      transform-origin: 50% 50%;
      transition: transform 220ms ease;
      background: linear-gradient(90deg,
        transparent,
        rgba(47,107,79,0.65),
        rgba(31,111,178,0.65),
        rgba(42,138,133,0.65),
        rgba(198,90,30,0.65),
        transparent
      );
      opacity: 0.95;
    }
    nav a:hover::after{ transform: scaleX(1); }

    .btn{
      position: relative;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: .8rem 1.25rem;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: #fff;
      color: var(--ink);
      font-weight: 750;
      font-size: .95rem;
      transform: translate3d(0,0,0);
      will-change: transform;
      user-select: none;
      overflow: hidden;
    }

    .btn.primary{
      border-color: rgba(11,18,32,0.14);
      background: linear-gradient(135deg, rgba(11,18,32,0.92), rgba(11,18,32,0.84));
      color: #fff;
    }

    /* Link + button highlight glow */
    .btn::before,
    nav a::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at var(--mx, 50%) var(--my, 50%),
        rgba(255,255,255,0.26),
        rgba(255,255,255,0.00) 58%
      );
      opacity: 0;
      transition: opacity 160ms ease;
      pointer-events:none;
    }
    .btn:hover::before,
    nav a:hover::before{ opacity: 1; }

    .btn:active{
      box-shadow: 0 0 0 2px rgba(11,18,32,0.12) inset;
      transform: translate3d(0,0,0) scale(0.992);
    }
    .btn.primary:active{
      box-shadow: 0 0 0 2px rgba(255,255,255,0.18) inset;
    }

    main section{ padding: 4.5rem 0; position: relative; }

    .hero{
      padding: 5rem 0 4rem;
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1.15fr 0.85fr;
      gap: 2.25rem;
      align-items: start;
    }

    .card{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: #fff;
      box-shadow: var(--shadow);
      padding: 1.35rem;
    }

    h1{
      font-size: clamp(2.2rem, 3vw + 1rem, 3.2rem);
      line-height: 1.08;
      letter-spacing: -0.02em;
      margin-bottom: .85rem;
    }

    h2{
      font-size: 1.75rem;
      letter-spacing: -0.01em;
      margin-bottom: .5rem;
    }

    h3{
      font-size: 1.05rem;
      margin: .2rem 0 .65rem;
      letter-spacing: -0.01em;
    }

    .lead{
      color: var(--muted);
      max-width: 46rem;
      margin-bottom: .85rem;
      font-size: 1.02rem;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap: .55rem;
      padding: .4rem .7rem;
      border-radius: 999px;
      background: var(--pill);
      color: rgba(11,18,32,0.86);
      border: 1px solid rgba(11,18,32,0.08);
      font-size: .78rem;
      letter-spacing: .12em;
      text-transform: uppercase;
      margin-bottom: .85rem;
      white-space: nowrap;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-top: 1.25rem;
    }

    .grid-4{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin-top: 1.25rem;
    }

    .item{
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 1rem;
      background: rgba(255,255,255,0.88);
    }

    .item p{ color: var(--muted); margin-top: .35rem; font-size: .98rem; }
    ul{ padding-left: 1.15rem; margin-top: .55rem; }
    li{ color: var(--muted); margin: .28rem 0; }

    .chapter{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 1.35rem;
      background: #fff;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .chapter::before{
      content:"";
      position:absolute;
      inset:0;
      opacity: 0.75;
      pointer-events:none;
      background: linear-gradient(135deg, var(--soft, rgba(11,18,32,0.06)), rgba(255,255,255,0));
    }

    .chapter-inner{ position: relative; z-index: 2; }

    .chapter.earth{ --soft: var(--earth-soft); }
    .chapter.water{ --soft: var(--water-soft); }
    .chapter.air{ --soft: var(--air-soft); }
    .chapter.fire{ --soft: var(--fire-soft); }

    .chapter + .chapter{ margin-top: 1.25rem; }

    .chapter-head{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 1rem;
    }

    .tag{
      display:inline-flex;
      align-items:center;
      gap:.5rem;
      padding:.35rem .65rem;
      border-radius:999px;
      border: 1px solid var(--border);
      background: #fff;
      font-size:.82rem;
      color: rgba(11,18,32,0.82);
      white-space: nowrap;
    }

    .dot{
      width:10px; height:10px; border-radius: 99px;
      background: var(--accent, rgba(11,18,32,0.35));
      box-shadow: 0 0 0 6px rgba(11,18,32,0.06);
    }
    .earth .dot{ --accent: var(--earth); }
    .water .dot{ --accent: var(--water); }
    .air .dot{ --accent: var(--air); }
    .fire .dot{ --accent: var(--fire); }

    .media{
      margin-top: 1rem;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      background: #fff;
    }

    .media img{
      width: 100%;
      height: 320px;
      object-fit: cover;
      display:block;
      opacity: 1;
      transform: translate3d(0,0,0);
      will-change: opacity;
    }

    footer{
      margin-top: 4rem;
      padding: 2rem 0;
      border-top: 1px solid var(--border);
      background: rgba(11,18,32,0.03);
    }

    .footer-inner{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      flex-wrap: wrap;
      gap: 1rem;
      color: var(--muted);
      font-size: .92rem;
    }

    .footer-nav{
      display:flex;
      gap: 1rem;
      flex-wrap: wrap;
      align-items: center;
    }

    /* Background animated elements */
    .bg-stage{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .bg-blob{
      position: absolute;
      width: 240px;
      height: 240px;
      border-radius: 999px;
      filter: blur(22px);
      opacity: 0.22;
      transform: translate3d(0,0,0);
      will-change: transform, opacity;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(255,255,255,0.0) 55%),
                  radial-gradient(circle at 70% 70%, var(--c, rgba(11,18,32,0.2)), rgba(255,255,255,0.0) 58%);
      mix-blend-mode: multiply;
    }

    .layer{
      position: relative;
      z-index: 1;
    }

    /* Split text */
    .kls-split{ display:inline-block; }
    .kls-char{
      display:inline-block;
      transform: translate3d(0,0,0);
      will-change: transform, opacity, filter;
    }

    @media (max-width: 980px){
      .hero-grid{ grid-template-columns: 1fr; }
      .grid-4{ grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 680px){
      nav{ display:none; }
      .grid-2{ grid-template-columns: 1fr; }
      .grid-4{ grid-template-columns: 1fr; }
      .media img{ height: 260px; }
    }
  </style>
</head>

<body>
  <!-- Swiggly line removed. No noodle SVG or path elements exist in this version. -->

  <div class="bg-stage" aria-hidden="true">
    <div class="bg-blob" style="--c: rgba(47,107,79,0.55)"></div>
    <div class="bg-blob" style="--c: rgba(31,111,178,0.55)"></div>
    <div class="bg-blob" style="--c: rgba(42,138,133,0.55)"></div>
    <div class="bg-blob" style="--c: rgba(198,90,30,0.55)"></div>
  </div>

  <header>
    <div class="wrap nav">
      <div class="brand">
        <span class="brand-badge" aria-hidden="true"></span>
        <span>Elemental Support</span>
      </div>

      <nav>
        <a class="kls-magnet" href="#earth">Earth</a>
        <a class="kls-magnet" href="#water">Water</a>
        <a class="kls-magnet" href="#air">Air</a>
        <a class="kls-magnet" href="#fire">Fire</a>
        <a class="kls-magnet" href="#contact">Contact</a>
        <a class="btn primary kls-magnet" href="#start">Start Here</a>
      </nav>
    </div>
  </header>

  <main class="layer">
    <section class="hero" id="start">
      <div class="wrap hero-grid">
        <div>
          <div class="pill">Earth. Water. Air. Fire.</div>
          <h1 class="kls-drop">Support, organized for real life.</h1>
          <p class="lead">
            This directory groups practical support by element.
            Earth stabilizes your day.
            Water steadies emotions.
            Air supports decisions.
            Fire rebuilds confidence.
          </p>
          <p class="lead">
            Use it as a checklist during transition.
            Pick one item, then take the next step.
          </p>

          <div style="display:flex; gap:.75rem; flex-wrap:wrap; margin-top:1.1rem;">
            <a class="btn primary kls-magnet" href="#earth">Begin with Earth</a>
            <a class="btn kls-magnet" href="#contact">Get help finding providers</a>
          </div>

          <div class="grid-2" style="margin-top:1.25rem;">
            <div class="item">
              <h3 class="kls-drop">How to use this</h3>
              <p>Pick one element. Choose one service. Set one action for today.</p>
            </div>
            <div class="item">
              <h3 class="kls-drop">Who this helps</h3>
              <p>People rebuilding routines, support systems, and confidence after major change.</p>
            </div>
          </div>
        </div>

        <div class="card">
          <h3 class="kls-drop">Fast paths</h3>
          <ul>
            <li><a class="kls-magnet" href="#earth">Earth. Home reset, meals, logistics</a></li>
            <li><a class="kls-magnet" href="#water">Water. Therapy, groups, regulation</a></li>
            <li><a class="kls-magnet" href="#air">Air. Coaching, planning, admin</a></li>
            <li><a class="kls-magnet" href="#fire">Fire. Fitness, boundaries, rebuild</a></li>
          </ul>

          <div class="media kls-media">
            <img src="assets/images/hero.jpg" alt="Calm workspace with notebook and phone" loading="lazy" />
          </div>
        </div>
      </div>
    </section>

    <section id="earth">
      <div class="wrap chapter earth kls-reveal">
        <div class="chapter-inner">
          <div class="chapter-head">
            <div>
              <h2 class="kls-drop">Earth</h2>
              <p class="lead">Stabilize basics. Reduce friction. Restore structure.</p>
            </div>
            <div class="tag"><span class="dot" aria-hidden="true"></span>Daily needs</div>
          </div>

          <div class="grid-4" style="margin-top:1rem;">
            <div class="item"><h3 class="kls-drop">Professional organizers</h3><p>Paper sorting, home reset, task triage.</p></div>
            <div class="item"><h3 class="kls-drop">Moving and storage</h3><p>Downsizing plans, packing support, storage coordination.</p></div>
            <div class="item"><h3 class="kls-drop">Meal support</h3><p>Meal prep, grocery delivery, simple routines.</p></div>
            <div class="item"><h3 class="kls-drop">Cleaning and laundry</h3><p>House cleaning, laundry pickup, reset cadence.</p></div>
          </div>

          <div class="grid-4">
            <div class="item"><h3 class="kls-drop">Childcare support</h3><p>Drop-in care, vetted sitters, after-school help.</p></div>
            <div class="item"><h3 class="kls-drop">Routine builder coach</h3><p>Daily structure, sleep schedule, day plan.</p></div>
            <div class="item"><h3 class="kls-drop">Budget coaching</h3><p>Bill triage, budgeting, cash flow clarity.</p></div>
            <div class="item"><h3 class="kls-drop">Housing transitions</h3><p>Room rental search, relocation resources, checklists.</p></div>
          </div>

          <div class="media kls-media">
            <img src="assets/images/earth.jpg" alt="Organized home desk and calendar" loading="lazy" />
          </div>
        </div>
      </div>
    </section>

    <section id="water">
      <div class="wrap chapter water kls-reveal">
        <div class="chapter-inner">
          <div class="chapter-head">
            <div>
              <h2 class="kls-drop">Water</h2>
              <p class="lead">Regulate emotions. Process grief. Build support.</p>
            </div>
            <div class="tag"><span class="dot" aria-hidden="true"></span>Emotional support</div>
          </div>

          <div class="grid-4" style="margin-top:1rem;">
            <div class="item"><h3 class="kls-drop">Support groups</h3><p>Online and local groups with consistent facilitation.</p></div>
            <div class="item"><h3 class="kls-drop">Individual therapy</h3><p>Grief support, betrayal recovery, trauma-informed care.</p></div>
            <div class="item"><h3 class="kls-drop">EMDR or somatic therapy</h3><p>Body-based approaches and memory processing.</p></div>
            <div class="item"><h3 class="kls-drop">Divorce coaching</h3><p>Emotional regulation and steady routines.</p></div>
          </div>

          <div class="grid-4">
            <div class="item"><h3 class="kls-drop">Guided journaling</h3><p>Structured prompts, accountability circles.</p></div>
            <div class="item"><h3 class="kls-drop">Mindfulness</h3><p>Meditation, grounding, attention training.</p></div>
            <div class="item"><h3 class="kls-drop">Breathwork</h3><p>Gentle nervous system focused work.</p></div>
            <div class="item"><h3 class="kls-drop">Crisis resources</h3><p>Hotlines, safety planning, rapid support.</p></div>
          </div>

          <div class="media kls-media">
            <img src="assets/images/water.jpg" alt="Quiet ocean view and journal" loading="lazy" />
          </div>
        </div>
      </div>
    </section>

    <section id="air">
      <div class="wrap chapter air kls-reveal">
        <div class="chapter-inner">
          <div class="chapter-head">
            <div>
              <h2 class="kls-drop">Air</h2>
              <p class="lead">Make decisions. Reduce overwhelm. Plan next steps.</p>
            </div>
            <div class="tag"><span class="dot" aria-hidden="true"></span>Clarity and planning</div>
          </div>

          <div class="grid-4" style="margin-top:1rem;">
            <div class="item"><h3 class="kls-drop">Decision coach</h3><p>Values-based choices and next-step planning.</p></div>
            <div class="item"><h3 class="kls-drop">Co-parenting communication</h3><p>Scripts, tone, routines, conflict reduction.</p></div>
            <div class="item"><h3 class="kls-drop">Communication workshops</h3><p>De-escalation, assertiveness, boundaries.</p></div>
            <div class="item"><h3 class="kls-drop">Digital hygiene coaching</h3><p>Reduce spirals, rebuild attention, reduce doom scroll.</p></div>
          </div>

          <div class="grid-4">
            <div class="item"><h3 class="kls-drop">Personal admin support</h3><p>Calendar, reminders, life management.</p></div>
            <div class="item"><h3 class="kls-drop">Career coaching</h3><p>Identity shift, job search clarity.</p></div>
            <div class="item"><h3 class="kls-drop">Resume and LinkedIn</h3><p>Positioning, rewriting, applications.</p></div>
            <div class="item"><h3 class="kls-drop">Education classes</h3><p>Non-legal divorce education, logistics, stages.</p></div>
          </div>

          <div class="media kls-media">
            <img src="assets/images/air.jpg" alt="Open laptop with plan and checklist" loading="lazy" />
          </div>
        </div>
      </div>
    </section>

    <section id="fire">
      <div class="wrap chapter fire kls-reveal">
        <div class="chapter-inner">
          <div class="chapter-head">
            <div>
              <h2 class="kls-drop">Fire</h2>
              <p class="lead">Rebuild confidence. Restore strength. Expand life again.</p>
            </div>
            <div class="tag"><span class="dot" aria-hidden="true"></span>Rebuild and growth</div>
          </div>

          <div class="grid-4" style="margin-top:1rem;">
            <div class="item"><h3 class="kls-drop">Fitness coaching</h3><p>Stress regulation, strength, confidence routines.</p></div>
            <div class="item"><h3 class="kls-drop">Personal safety</h3><p>Self-defense, awareness, safety planning habits.</p></div>
            <div class="item"><h3 class="kls-drop">Boundary coaching</h3><p>Contact rules, routine enforcement, clarity.</p></div>
            <div class="item"><h3 class="kls-drop">Life rebuild coaching</h3><p>Goals, identity, future planning.</p></div>
          </div>

          <div class="grid-4">
            <div class="item"><h3 class="kls-drop">Confidence refresh</h3><p>Hair, wardrobe, photo session, presence work.</p></div>
            <div class="item"><h3 class="kls-drop">Social re-entry</h3><p>Community events, meetups, steady pacing.</p></div>
            <div class="item"><h3 class="kls-drop">New hobbies</h3><p>Dance, art, language, outdoor groups.</p></div>
            <div class="item"><h3 class="kls-drop">First apartment setup</h3><p>Furnishing plan, home reset, budget setup.</p></div>
          </div>

          <div class="media kls-media">
            <img src="assets/images/fire.jpg" alt="Morning walk and sunrise" loading="lazy" />
          </div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="wrap card kls-reveal">
        <h2 class="kls-drop">Contact</h2>
        <p class="lead">
          Share your city, your timeline, and the top two problems.
          You will get a short shortlist of provider types and a next-step plan.
        </p>
        <div style="display:flex; gap:.75rem; flex-wrap:wrap; margin-top:.75rem;">
          <a class="btn primary kls-magnet" href="mailto:hello@example.com">Email</a>
          <a class="btn kls-magnet" href="#start">Back to top</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="layer">
    <div class="wrap footer-inner">
      <div>
        Â© <span id="year"></span> Elemental Support
      </div>
      <div class="footer-nav">
        <a class="kls-magnet" href="#earth">Earth</a>
        <a class="kls-magnet" href="#water">Water</a>
        <a class="kls-magnet" href="#air">Air</a>
        <a class="kls-magnet" href="#fire">Fire</a>
        <a class="kls-magnet" href="#contact">Contact</a>
      </div>
    </div>
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    (function () {
      const reduceMotion = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
      if (reduceMotion) return;

      if (!window.gsap || !window.ScrollTrigger) return;

      gsap.registerPlugin(ScrollTrigger);
      gsap.defaults({ ease: "power3.out", duration: 0.9 });

      const hoverOk = window.matchMedia && window.matchMedia("(hover: hover) and (pointer: fine)").matches;

      function setPointerGlow(el, e) {
        const r = el.getBoundingClientRect();
        const x = ((e.clientX - r.left) / r.width) * 100;
        const y = ((e.clientY - r.top) / r.height) * 100;
        el.style.setProperty("--mx", x + "%");
        el.style.setProperty("--my", y + "%");
      }

      function initMagnet() {
        if (!hoverOk) return;
        const items = document.querySelectorAll(".kls-magnet");
        items.forEach((el) => {
          const strength = 0.26;

          el.addEventListener("mousemove", (e) => {
            setPointerGlow(el, e);
            const r = el.getBoundingClientRect();
            const x = e.clientX - r.left - r.width / 2;
            const y = e.clientY - r.top - r.height / 2;
            gsap.to(el, { x: x * strength, y: y * strength, duration: 0.22, ease: "power2.out" });
          });

          el.addEventListener("mouseleave", () => {
            gsap.to(el, { x: 0, y: 0, duration: 0.55, ease: "elastic.out(1, 0.35)" });
          });

          el.addEventListener("pointerdown", () => {
            gsap.to(el, { scale: 0.985, duration: 0.12, ease: "power2.out" });
          });

          el.addEventListener("pointerup", () => {
            gsap.to(el, { scale: 1, duration: 0.22, ease: "elastic.out(1, 0.55)" });
          });
        });
      }

      function splitLetters(el) {
        if (!el) return;
        if (el.dataset.split === "1") return;

        const text = (el.textContent || "");
        el.textContent = "";

        const frag = document.createDocumentFragment();
        for (let i = 0; i < text.length; i++) {
          const ch = text[i];
          const span = document.createElement("span");
          span.className = "kls-char";
          span.textContent = ch === " " ? "\u00A0" : ch;
          frag.appendChild(span);
        }
        el.appendChild(frag);
        el.classList.add("kls-split");
        el.dataset.split = "1";
      }

      function dropStagger(el, opts) {
        splitLetters(el);
        const chars = Array.from(el.querySelectorAll(".kls-char"));
        if (!chars.length) return;

        gsap.fromTo(chars,
          { y: opts.fromY, opacity: 0, filter: "blur(10px)" },
          {
            y: 0,
            opacity: 1,
            filter: "blur(0px)",
            ease: "bounce.out",
            duration: opts.dur,
            stagger: opts.stagger,
            scrollTrigger: {
              trigger: el,
              start: "top 88%",
              end: "top 55%",
              toggleActions: "restart none restart reverse"
            }
          }
        );

        gsap.to(chars, {
          filter: "drop-shadow(0 0 10px rgba(11,18,32,0.12))",
          scrollTrigger: {
            trigger: el,
            start: "top 92%",
            end: "bottom 10%",
            scrub: 0.5
          },
          ease: "none"
        });
      }

      function revealBlocks() {
        gsap.utils.toArray(".kls-reveal").forEach((el) => {
          gsap.fromTo(el,
            { y: 18, opacity: 0, filter: "blur(10px)" },
            {
              y: 0,
              opacity: 1,
              filter: "blur(0px)",
              scrollTrigger: { trigger: el, start: "top 86%", toggleActions: "play none none reverse" }
            }
          );
        });
      }

      function fadeImages() {
        gsap.utils.toArray(".kls-media img").forEach((img) => {
          gsap.fromTo(img,
            { opacity: 0.35 },
            {
              opacity: 1,
              scrollTrigger: { trigger: img, start: "top 86%", end: "bottom 12%", scrub: 0.6 }
            }
          );
        });
      }

      function bgMotion() {
        const blobs = gsap.utils.toArray(".bg-blob");
        const w = () => window.innerWidth;
        const h = () => window.innerHeight;

        blobs.forEach((b, i) => {
          const startX = (i % 2 === 0) ? w() * 0.08 : w() * 0.72;
          const startY = (i < 2) ? h() * 0.12 : h() * 0.62;

          gsap.set(b, { x: startX, y: startY });

          gsap.to(b, {
            x: () => startX + (i % 2 === 0 ? 220 : -220),
            y: () => startY + (i < 2 ? 180 : -180),
            duration: 8 + i * 1.4,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut"
          });

          gsap.to(b, {
            rotation: 10 + i * 6,
            duration: 10 + i * 1.2,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut"
          });

          gsap.to(b, {
            opacity: 0.18,
            scrollTrigger: {
              trigger: document.documentElement,
              start: "top top",
              end: "bottom bottom",
              scrub: 0.35
            },
            ease: "none"
          });
        });
      }

      initMagnet();

      gsap.utils.toArray(".kls-drop").forEach((el) => {
        const tag = el.tagName.toLowerCase();
        if (tag === "h1") dropStagger(el, { fromY: -120, dur: 1.25, stagger: 0.018 });
        if (tag === "h2") dropStagger(el, { fromY: -95, dur: 1.1, stagger: 0.016 });
        if (tag === "h3") dropStagger(el, { fromY: -70, dur: 0.95, stagger: 0.012 });
      });

      revealBlocks();
      fadeImages();
      bgMotion();
    })();
  </script>
</body>
</html>
